# 2023-11-15 修复记录（第三次）

## 问题：卡图显示问题
- 卡图文件目录应该位于卡片数据库所在的目录下，而不是程序根目录下
- 例如，在测试环境中，卡图目录应该是 `/example/pics/` 而不是 `/pics/`

## 解决方案
- 修改了卡片解析器中的图片路径处理逻辑，使其在卡片数据库所在的目录下查找图片
- 首先在 CARD_DATA_PATH 目录下查找图片
- 如果找不到，再尝试在程序根目录下查找
- 修改了视图文件中的图片路径显示，直接使用完整路径而不是拼接 BASE_URL

## 修改文件列表
1. includes/Core/CardParser.php - 修改图片路径处理逻辑
2. includes/Views/cards/detail.php - 修改图片路径显示
3. includes/Views/cards/index.php - 修改图片路径显示
4. includes/Views/cards/search.php - 修改图片路径显示

## 注意事项
- 现在系统会优先在卡片数据目录下查找图片，这样可以支持不同扩展包使用不同的图片
- 如果在卡片数据目录下找不到图片，系统会尝试在程序根目录下查找
- 如果都找不到，则显示默认的卡背图片
