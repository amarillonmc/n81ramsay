# 2023-12-04 14:00 - 作者榜单优先级更新

按照用户需求，修改了作者榜单功能，使其判定作者的优先级与作者管理功能一致：管理员记录的信息 > 卡片描述文本中的作者信息 > 通过 strings.conf 识别的信息。

## 主要变更

1. 修改了 `AuthorStats` 模型中的 `getAuthorStats()` 方法，确保其使用 `CardParser::getCardAuthor()` 方法获取作者信息。

2. 添加了注释，明确说明作者识别的优先级顺序。

## 技术细节

`CardParser::getCardAuthor()` 方法已经实现了以下优先级顺序：

1. 首先检查数据库中的作者映射（管理员记录的信息）
2. 其次检查卡片描述中的作者签名
3. 最后根据 strings.conf 中的作者信息查找

通过直接使用 `CardParser::getCardAuthor()` 方法，确保了作者榜单功能与作者管理功能使用相同的作者识别优先级。

## 影响

这个更改确保了系统中所有涉及作者识别的功能都使用相同的优先级规则，提高了系统的一致性和可维护性。特别是：

1. 管理员可以通过作者管理功能修正错误识别的作者信息，这些修正将立即反映在作者榜单中。
2. 作者榜单将更准确地反映实际的作者信息，减少因识别方法不一致导致的数据差异。

## 使用说明

管理员可以通过以下步骤更新作者信息，并确保作者榜单正确显示：

1. 使用作者管理功能添加或编辑作者映射
2. 更新作者榜单（点击作者榜单页面上的"更新榜单"按钮）

系统将按照优先级顺序识别作者：
1. 首先使用管理员在作者管理功能中记录的信息
2. 如果没有找到匹配的记录，则检查卡片描述中的作者签名
3. 如果仍未找到，则使用 strings.conf 中的作者信息
