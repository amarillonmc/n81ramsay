# 作者光荣榜调试功能

## 功能描述

在DEBUG_MODE = true的前提下，1级以上的管理员可以在作者光荣榜页面点击"生成调试内容"按钮。该按钮会在logs目录下生成带有时间戳的ranking文件夹，文件夹中按照榜单中的每一行生成一个文件，其中列出系统lflist中读取的禁卡列表。在生成完成后，进行提示反馈。

## 实现细节

### 1. 控制器更新

在`AuthorController.php`中添加了`debug`方法，该方法：
- 检查功能是否启用（AUTHOR_HALL_OF_FAME_ENABLED）
- 检查是否处于调试模式（DEBUG_MODE）
- 要求管理员权限（级别1+）
- 获取作者统计数据
- 创建带有时间戳的ranking文件夹
- 获取标准环境禁卡列表
- 为每个作者生成调试文件，包含作者信息和禁卡列表
- 提供反馈信息

### 2. 视图更新

在`authors/index.php`中添加了"生成调试内容"按钮，该按钮：
- 仅在DEBUG_MODE = true且用户具有管理员权限（级别1+）时显示
- 点击后调用AuthorController的debug方法

### 3. 调试文件内容

每个作者的调试文件包含以下信息：
- 作者名称
- 卡片总数
- 禁卡数量
- 禁卡比例
- 禁止系列数
- 详细的禁卡列表，包括卡片ID、名称和禁限状态

## 使用方法

1. 确保系统处于调试模式（DEBUG_MODE = true）
2. 以管理员身份登录（级别1+）
3. 访问作者光荣榜页面
4. 点击"生成调试内容"按钮
5. 系统会在logs目录下创建一个名为"ranking_时间戳"的文件夹
6. 文件夹中包含每个作者的调试文件
7. 生成完成后，系统会显示成功消息，包含生成的文件数量和保存位置

## 注意事项

- 此功能仅在调试模式下可用
- 需要管理员权限（级别1+）
- 调试文件保存在logs目录下，确保该目录具有写入权限
- 文件名中的非法字符会被替换为下划线
