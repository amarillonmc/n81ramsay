# 2023-11-09 卡片详情修复

## 问题描述
卡片详情页面中存在以下问题：
1. 类别一直显示为空白
2. 种族显示为"未知种族"（但括号里面解析出了正确的十六进制数）
3. 属性显示为"未知属性"（括号中解析的十六进制数也是正确的）

## 修复内容

### 1. 修复类别（type）解析
修改了 `getTypeText()` 方法，使其能够正确解析卡片类别。
- 跳过标记为N/A的类型
- 使用"·"而不是"/"作为分隔符，符合中文习惯
- 添加了空类型的处理

### 2. 修复种族（race）解析
修改了 `getRaceText()` 方法，使其能够正确解析卡片种族。
- 使用直接比较十进制值的方式查找匹配的种族代码
- 确保十六进制转换正确

### 3. 修复属性（attribute）解析
修改了 `getAttributeText()` 方法，使其能够正确解析卡片属性。
- 使用直接比较十进制值的方式查找匹配的属性代码
- 确保十六进制转换正确

### 4. 其他优化
- 优化了 `getAllEnvironments()` 方法，使用 `array_keys()` 函数简化代码

## 技术说明
- 卡片类别（type）是一个位掩码，可能包含多个类型值的组合
- 种族（race）和属性（attribute）是单一值，直接对应一个十六进制代码
- 所有这些值都在 `res/cardinfo_chinese.txt` 文件中定义
